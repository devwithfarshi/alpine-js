<!DOCTYPE html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alpine Js</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body class="dark:bg-gray-900">
    <div id="app" class="pt-10 max-w-[1320px] mx-auto flex flex-col gap-6">
      <ul
        class="flex items-center justify-center gap-20 text-gray-900 dark:text-white"
      >
        <li>Home</li>
        <li class="relative" x-data="dropdown">
          <div
            x-on:click="toggle"
            class="cursor-pointer flex items-center capitalize"
          >
            <p>settings</p>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="1.5em"
              height="1.5em"
              viewBox="0 0 24 24"
              x-bind:class="open? 'rotate-180' :''"
            >
              <g fill="none" fill-rule="evenodd">
                <path
                  d="M24 0v24H0V0zM12.593 23.258l-.011.002l-.071.035l-.02.004l-.014-.004l-.071-.035c-.01-.004-.019-.001-.024.005l-.004.01l-.017.428l.005.02l.01.013l.104.074l.015.004l.012-.004l.104-.074l.012-.016l.004-.017l-.017-.427c-.002-.01-.009-.017-.017-.018m.265-.113l-.013.002l-.185.093l-.01.01l-.003.011l.018.43l.005.012l.008.007l.201.093c.012.004.023 0 .029-.008l.004-.014l-.034-.614c-.003-.012-.01-.02-.02-.022m-.715.002a.023.023 0 0 0-.027.006l-.006.014l-.034.614c0 .012.007.02.017.024l.015-.002l.201-.093l.01-.008l.004-.011l.017-.43l-.003-.012l-.01-.01z"
                />
                <path
                  fill="currentColor"
                  d="M13.06 16.06a1.5 1.5 0 0 1-2.12 0l-5.658-5.656a1.5 1.5 0 1 1 2.122-2.121L12 12.879l4.596-4.596a1.5 1.5 0 0 1 2.122 2.12l-5.657 5.658Z"
                />
              </g>
            </svg>
          </div>
          <ul
            class="absolute bg-white shadow-lg dark:bg-gray-500 py-2 px-3 rounded-md divide-y whitespace-nowrap space-y-2 *:py-1 top-7 z-10"
            x-show="open"
            x-cloak
          >
            <li x-data="modal">
              <p x-on:click="modalToggle" class="cursor-pointer">Add Details</p>
              <!-- profile modal start-->
              <div
                x-show="isModalOpen"
                x-transition.duration.250ms
                class="bg-black/50 backdrop-blur-sm fixed top-0 left-0 w-screen h-screen z-40 flex items-center justify-center"
              >
                <div
                  x-show="isModalOpen"
                  x-transition.duration.250ms
                  class="bg-gray-900 h-[500px] w-4/5 rounded-lg flex items-center justify-center relative"
                >
                  <button
                    class="absolute text-white z-[999] right-3 top-3 cursor-pointer"
                    x-on:click="modalToggle"
                  >
                    <svg
                      xmlns="http://www.w3.org/2000/svg"
                      width="3em"
                      height="3em"
                      viewBox="0 0 24 24"
                    >
                      <path
                        fill="currentColor"
                        d="M16.066 8.995a.75.75 0 1 0-1.06-1.061L12 10.939L8.995 7.934a.75.75 0 1 0-1.06 1.06L10.938 12l-3.005 3.005a.75.75 0 0 0 1.06 1.06L12 13.06l3.005 3.006a.75.75 0 0 0 1.06-1.06L13.062 12z"
                      />
                    </svg>
                  </button>
                  <form
                    x-on:submit="e=>e.preventDefault()"
                    class="w-1/3"
                    x-data="{
                      name:'',
                      email:''}"
                  >
                    <div class="mb-5">
                      <label
                        for="name"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                        >Full name</label
                      >
                      <input
                        type="text"
                        id="name"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                        placeholder="Jhon Doe"
                        x-model="name"
                        required
                      />
                    </div>
                    <div class="mb-5">
                      <label
                        for="email"
                        class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                        >Your email</label
                      >
                      <input
                        type="email"
                        id="email"
                        class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                        x-model="email"
                        placeholder="name@flowbite.com"
                        required
                      />
                    </div>
                    <button
                      class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                      x-on:click="$store.users.addUser({name,email});toggle();modalToggle()"
                    >
                      Submit
                    </button>
                  </form>
                </div>
              </div>
              <!-- profile modal end-->
            </li>
            <li>Profile</li>
            <li>Account</li>
            <li>Change Password</li>
          </ul>
        </li>
      </ul>

      <!-- table start -->
      <section x-cloak x-data x-show="$store.users.users.length>0">
        <div
          class="relative overflow-x-auto shadow-md sm:rounded-lg w-4/5 mx-auto"
        >
          <table
            class="text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400 w-full"
          >
            <thead
              class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
            >
              <tr>
                <th scope="col" class="px-6 py-3">ID</th>
                <th scope="col" class="px-6 py-3">Name</th>
                <th scope="col" class="px-6 py-3">Email Address</th>
                <th scope="col" class="px-6 py-3">Action</th>
              </tr>
            </thead>
            <tbody x-data>
              <template x-for="(user,i) in $store.users.users">
                <tr
                  class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"
                >
                  <th
                    scope="row"
                    class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"
                    x-text="i+1"
                  ></th>
                  <td class="px-6 py-4" x-text="user.name"></td>
                  <td class="px-6 py-4" x-text="user.email"></td>
                  <td class="px-6 py-4 flex items-center gap-20">
                    <div x-data="{editMode:false}">
                      <button
                        class="font-medium text-blue-600 dark:text-blue-500 hover:underline"
                        x-on:click="editMode=true"
                      >
                        Edit
                      </button>
                      <!-- profile edit modal start-->
                      <div
                        x-show="editMode"
                        class="bg-black/50 backdrop-blur-sm fixed top-0 left-0 w-screen h-screen z-40 flex items-center justify-center"
                      >
                        <div
                          class="bg-gray-900 h-[500px] w-4/5 rounded-lg flex items-center justify-center relative"
                        >
                          <button
                            class="absolute text-white z-[999] right-3 top-3 cursor-pointer"
                            x-on:click="editMode=false"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="3em"
                              height="3em"
                              viewBox="0 0 24 24"
                            >
                              <path
                                fill="currentColor"
                                d="M16.066 8.995a.75.75 0 1 0-1.06-1.061L12 10.939L8.995 7.934a.75.75 0 1 0-1.06 1.06L10.938 12l-3.005 3.005a.75.75 0 0 0 1.06 1.06L12 13.06l3.005 3.006a.75.75 0 0 0 1.06-1.06L13.062 12z"
                              />
                            </svg>
                          </button>
                          <h2
                            class="absolute left-1/2 top-4 -translate-x-1/2 text-2xl capitalize"
                          >
                            Update information
                          </h2>
                          <form
                            x-on:submit="e=>e.preventDefault()"
                            class="w-1/3"
                            x-data="{
                    name:'',
                    email:''}"
                          >
                            <div class="mb-5">
                              <label
                                for="name"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                                >Full name</label
                              >
                              <input
                                type="text"
                                id="name"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                :placeholder="user.name"
                                x-model="name"
                                required
                              />
                            </div>
                            <div class="mb-5">
                              <label
                                for="email"
                                class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"
                                >Your email</label
                              >
                              <input
                                type="email"
                                id="email"
                                class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                x-model="email"
                                :placeholder="user.email"
                                required
                              />
                            </div>
                            <button
                              class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"
                              x-on:click="$store.users.updateUser({id:user.id,updatedName:name,updateEmail:email});editMode=false"
                            >
                              Submit
                            </button>
                          </form>
                        </div>
                      </div>
                    </div>
                    <div x-data="{deleteModalShow:false}">
                      <button
                        class="font-medium text-red-600 dark:text-red-500 hover:underline"
                        x-on:click="deleteModalShow=true"
                      >
                        Delete
                      </button>
                      <!-- Delete modal start-->
                      <div
                        x-show="deleteModalShow"
                        class="bg-black/50 backdrop-blur-sm fixed top-0 left-0 w-screen h-screen z-40 flex items-center justify-center"
                      >
                        <div
                          x-show="deleteModalShow"
                          x-transition.duration.250ms
                          x-transition.delay.150ms
                          class="bg-gray-900 px-6 h-[250px] rounded-lg flex items-center justify-center relative"
                        >
                          <button
                            class="absolute text-white z-[999] right-3 top-3 cursor-pointer"
                            x-on:click="deleteModalShow=false"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              width="3em"
                              height="3em"
                              viewBox="0 0 24 24"
                            >
                              <path
                                fill="currentColor"
                                d="M16.066 8.995a.75.75 0 1 0-1.06-1.061L12 10.939L8.995 7.934a.75.75 0 1 0-1.06 1.06L10.938 12l-3.005 3.005a.75.75 0 0 0 1.06 1.06L12 13.06l3.005 3.006a.75.75 0 0 0 1.06-1.06L13.062 12z"
                              />
                            </svg>
                          </button>
                          <div>
                            <p class="text-2xl text-red-300">
                              Are you sure to delete
                              <span
                                x-text="user.name"
                                class="font-bold text-red-500"
                              ></span
                              >'s record?
                            </p>
                            <button
                              class="font-medium text-red-600 dark:text-red-500 border rounded-lg w-full py-3 text-lg border-red-600 dark:border-red-500 mt-5 duration-200 hover:bg-red-500 hover:!text-white"
                              x-on:click="$store.users.deleteUser(user.id);deleteModalShow=false"
                            >
                              Delete
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </td>
                </tr>
              </template>
            </tbody>
          </table>
        </div>
      </section>
      <section x-cloak x-data x-show="$store.users.users.length==0">
        <p class="pt-20 text-center text-red-400 text-4xl capitalize">
          Your have no data!
        </p>
      </section>
    </div>

    <script type="module" src="/main.js"></script>
  </body>
</html>
